/*
 * config-fwiffo.h: Fwiffo's customizations to Anduril 2.
 *
 * Copyright (C) 2017 Selene Scriven
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

// Factory reset to Advanced mode, not Simple
#undef SIMPLE_UI_ACTIVE
#define SIMPLE_UI_ACTIVE 0

// Temp in front of my computer where I'm usually flashing my flashlights...
#undef THERM_AUTOCALIBRATE_TEMP
#define THERM_AUTOCALIBRATE_TEMP 26

// Disable nasty strobes
#undef USE_PARTY_STROBE_MODE
#undef USE_TACTICAL_STROBE_MODE
#undef STROBE_BRIGHTNESS
#undef DEFAULT_BIKING_LEVEL
#define STROBE_BRIGHTNESS RAMP_DISCRETE_CEIL / 3
#define DEFAULT_BIKING_LEVEL RAMP_DISCRETE_CEIL / 3

// Default ramp style: 0 = smooth, 1 = stepped
#undef RAMP_STYLE
#define RAMP_STYLE 1

// Dimmest possible moonlight, and 5 ramp steps
#undef RAMP_DISCRETE_FLOOR
#undef RAMP_SMOOTH_FLOOR
#undef RAMP_DISCRETE_STEPS
#define RAMP_DISCRETE_FLOOR 1
#define RAMP_SMOOTH_FLOOR 1
#define RAMP_DISCRETE_STEPS 5

// Use manual memory by default
#undef DEFAULT_MANUAL_MEMORY
#define DEFAULT_MANUAL_MEMORY (RAMP_DISCRETE_FLOOR + RAMP_DISCRETE_CEIL) / 2

// Don't ramp after moonlight by default
#undef DEFAULT_DONT_RAMP_AFTER_MOON
#define DEFAULT_DONT_RAMP_AFTER_MOON 1

// AUX LEDs
#undef RGB_LED_OFF_DEFAULT
#undef RGB_LED_LOCKOUT_DEFAULT
#define RGB_LED_OFF_DEFAULT 0x19  // low, voltage
#define RGB_LED_LOCKOUT_DEFAULT 0x19  // low, voltage

#ifdef USE_TINT_RAMPING
#undef PWM1_LEVELS
#undef PWM_TOPS
// 1: Zero for moonlight
// 2-130: 1 to 100% power
// level_calc.py 5.01 1 129 7135 1 0.2 2000 --pwm dyn:64:16383:511
// 131 to 150: 101% to 200% power
// level_calc.py 6.44 1 150 7135 1 0.2 2000 --pwm dyn:74:16383:1022
#define PWM1_LEVELS 0,1,1,1,2,2,3,4,4,5,6,7,8,9,11,12,13,15,17,19,21,23,25,27,30,32,35,38,41,44,47,50,54,57,61,64,68,71,75,78,82,85,89,92,95,98,101,103,105,107,108,109,109,109,108,107,104,101,97,92,85,78,69,59,47,34,36,38,40,42,45,47,50,52,55,58,61,64,67,70,74,77,81,85,89,93,98,102,107,112,117,122,127,133,139,145,151,157,164,171,178,185,193,201,209,217,225,234,243,253,262,272,283,293,304,315,327,339,351,364,377,390,404,418,432,447,463,478,494,511,530,550,570,591,612,634,657,680,705,730,755,782,809,837,865,895,925,957,989,1022
#define PWM_TOPS 16383,16383,13209,9725,13732,9452,13304,14796,11853,12732,13021,12973,12714,12315,13139,12472,11777,11980,11981,11848,11622,11329,10990,10618,10595,10159,10021,9832,9605,9351,9078,8793,8665,8357,8186,7872,7679,7370,7168,6872,6670,6389,6192,5930,5679,5440,5212,4946,4696,4462,4203,3963,3705,3467,3217,2988,2724,2483,2240,1997,1735,1498,1247,1003,751,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511,511
#define USE_EXTRA_LOW_MOON_CONFIG
#endif

// 0.50 gamma, 1.05 alpha
// With above stepped ramp config, and SST-20 emitters at 2700K and 4000K,
// produces CCTs of about 2780K, 3230K, 3500K, 3680K, 3850K.
#undef CUSTOM_AUTORAMP_CURVE
#define CUSTOM_AUTORAMP_CURVE 0,17,24,29,34,37,41,44,47,50,53,56,58,60,63,65,67,69,71,73,75,77,79,80,82,84,85,87,89,90,92,93,95,96,98,99,101,102,103,105,106,107,109,110,111,112,114,115,116,117,119,120,121,122,123,124,125,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,155,156,157,158,159,160,161,162,163,163,164,165,166,167,168,169,169,170,171,172,173,173,174,175,176,177,177,178,179,180,181,181,182,183,184,184,185,186,187,187,188,189,190,190,191,192,193,193,194,195,196,196,197,198,198,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,222,223,224,224,225,226,226,227,227,228,229,229,230,231,231,232,232,233,234,234,235,235,236,237,237,238,238,239,239,240,241,241,242,242,243,244,244,245,245,246,246,247,248,248,249,249,250,250,251,252,252,253,253,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255

// #undef DEFAULT_JUMP_START_LEVEL
// // For D4SV2 with flood/throw
// #define DEFAULT_JUMP_START_LEVEL 40
// // For D4V2 with single channel nichia
// #define DEFAULT_JUMP_START_LEVEL 18
// For D4V2 with SST tint-ramp
#define DEFAULT_JUMP_START_LEVEL 10
